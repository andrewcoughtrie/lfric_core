<file_definition>

  <!-- Var Atmos LS file -->
  <!-- Time profile is hourly from T+3 to T+9 -->
  <file id="lfric_ppvar" name="lfric_ppvar" output_freq="1h" split_freq="1h" split_end_offset="0h" split_freq_format="%y%mo%d%h" convention="UGRID" enabled=".TRUE.">
    <field_group operation="instant" freq_op="1h">
      <field field_ref="u_in_w3"/>
      <field field_ref="v_in_w3"/>
      <field field_ref="theta"/>
      <field field_ref="processed__qv"/>
      <field field_ref="processed__qci"/>
      <field field_ref="orography"/>
      <field field_ref="w_in_wth"/>
      <field field_ref="processed__r2rho"/>
      <field field_ref="processed__qcl"/>
      <field field_ref="turbulence__ntml"/>
      <field field_ref="cloud__bulk_fraction"/>
      <field field_ref="cloud__liquid_fraction"/>
      <field field_ref="cloud__frozen_fraction"/>
      <field field_ref="processed__pressure_in_w3"/>
      <field field_ref="turbulence__zht"/>
    </field_group>
    <field_group operation="average" freq_op="1ts">
      <field field_ref="convection__dth_conv_noshal"/>
      <field field_ref="convection__dmv_conv_noshal"/>
      <field field_ref="convection__massflux_up_half"/>
    </field_group>
  </file>

  <!-- VAR Surface LS file -->
  <!-- Time profile is T+6 -->
  <file id="lfric_ppscreen" name="lfric_ppscreen" output_freq="9h" convention="UGRID" enabled=".TRUE.">
    <field_group operation="instant" freq_op="9h">
      <field field_ref="u_in_w3" />
      <field field_ref="v_in_w3" />
      <field field_ref="theta" />
      <field field_ref="processed__qv" />
      <field field_ref="orography" />
      <field field_ref="w_in_wth" />
      <field field_ref="processed__r2rho" />
      <field field_ref="cloud__bulk_fraction" />
      <field field_ref="processed__pressure_in_w3" />
    </field_group>
  </file>

  <!-- OPS Background Error file -->
  <!-- Time profile is hourly from T+0 to T+9 -->
  <file id="lfric_bg_for_hofx" name="lfric_bg_for_hofx" output_freq="1h" convention="UGRID" enabled=".TRUE.">
    <field_group freq_op="1h" operation="instant">
      <field field_ref="m_v"/>
      <field field_ref="m_cl"/>
      <field field_ref="m_r"/>
      <field field_ref="m_ci"/>
      <field field_ref="exner"/>
      <field field_ref="exner_in_wth"/>
      <field field_ref="processed__pressure_in_wth"/>
      <field field_ref="soil__soil_temperature"/>
      <field field_ref="surface__tile_fraction"/>
      <field field_ref="u_in_w3"/>
      <field field_ref="v_in_w3"/>
      <field field_ref="theta"/>
      <field field_ref="height_wth"/>
      <field field_ref="processed__qv"/>
      <field field_ref="processed__qci"/>
      <field field_ref="surface__grid_surface_temperature"/>
      <field field_ref="turbulence__zh"/>
      <field field_ref="surface__sea_ice_fraction"/>
      <field field_ref="orography"/>
      <field field_ref="processed__qcl"/>
      <field field_ref="cloud__bulk_fraction"/>
      <field field_ref="cloud__liquid_fraction"/>
      <field field_ref="cloud__frozen_fraction"/>
      <field field_ref="processed__pressure_in_w3"/>
      <field field_ref="processed__pstar"/>
      <field field_ref="surface__u10m"/>
      <field field_ref="surface__v10m"/>
      <field field_ref="surface__t1p5m"/>
      <field field_ref="surface__rh1p5m"/>
      <field field_ref="surface__visibility_no_precip"/>
      <field field_ref="turbulence__oblen"/>
      <field field_ref="surface__ustar"/>
      <field field_ref="cloud__low_type_cloud_amount"/>
      <field field_ref="cloud__medium_type_cloud_amount"/>
      <field field_ref="cloud__cloud_amount_maxrnd"/>
      <field field_ref="cloud__low_cloud_base_altitude"/>
      <field field_ref="processed__pmsl"/>
    </field_group>
  </file>

  <!-- VER surface level files -->
  <file id="lfric_surface" name="lfric_surface" output_freq="3h" convention="UGRID" enabled=".TRUE.">
    <field_group operation="instant" freq_op="3h">
      <field field_ref="orography"/>
      <field field_ref="processed__pmsl"/>
      <field field_ref="surface__u10m"/>
      <field field_ref="surface__v10m"/>
      <field field_ref="surface__t1p5m"/>
      <field field_ref="surface__rh1p5m"/>
      <field field_ref="surface__fog_fraction"/>
      <field field_ref="surface__visibility_no_precip"/>
      <field field_ref="surface__visibility_with_precip"/>
      <field field_ref="cloud__cloud_amount_maxrnd"/>
      <field field_ref="cloud__ceilometer_cloud_amount_maxrnd"/>
      <field field_ref="cloud__low_type_cloud_amount"/>
      <field field_ref="cloud__medium_type_cloud_amount"/>
      <field field_ref="cloud__high_type_cloud_amount"/>
      <field field_ref="cloud__cloud_base_altitude"/>
    </field_group>
    <!-- Is cumulative accumulation a thing? -->
    <field_group operation="accumulate" freq_op="1ts">
      <field field_ref="processed__total_prec_acc"/>
      <field field_ref="microphysics__ls_rain_acc"/>
      <field field_ref="microphysics__ls_snow_acc"/>
      <field field_ref="convection__conv_rain_acc"/>
      <field field_ref="convection__conv_snow_acc"/>
    </field_group>
  </file>

  <!-- VER full model level files -->
  <file id="lfric_full_pressure" name="lfric_full_pressure" output_freq="3h" convention="UGRID" enabled=".TRUE.">
    <field_group operation="instant" freq_op="3h">
      <field field_ref="processed__pressure_in_wth" name="pressure"/>
      <field field_ref="processed__temperature"/>
      <field field_ref="m_v"/>
    </field_group>
  </file>

  <!-- VER half model level files -->
  <file id="lfric_half_pressure" name="lfric_half_pressure" output_freq="3h" convention="UGRID" enabled=".TRUE.">
    <field_group operation="instant" freq_op="3h">
      <field field_ref="processed__pressure_in_w3" name="pressure"/>
      <field field_ref="height_w3" name="height" standard_name="geopotential_height"/>
      <field field_ref="u_in_w3"/>
      <field field_ref="v_in_w3"/>
    </field_group>
  </file>

</file_definition>
