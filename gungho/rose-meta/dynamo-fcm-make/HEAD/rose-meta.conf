[env=config_revision]
compulsory=true
title=Config file revision
help=The revision of the config file in the repository. This must start with "@",
    =e.g. @HEAD. You may use FCM keywords (@vn10.0) or revision numbers
    =(@12345) here.
    =
    =If using a config file in a working copy, leave this field blank.
    =
    =Leaving this field blank when not using a working copy is equivalent to
    =supplying @HEAD.
ns=env/config
pattern=(?i)^(|@(vn\d+\.\d+(\.\d+)?|\d+|head))$
sort-key=a4

[env=config_root_path]
compulsory=true
title=Path to the fcm-make configs directory
help=Path to the Dynamo's fcm-make directory, containing the build configs.
    =This can be an FCM or Subversion URL or a path to a working copy.
    =It should not include the fcm-make directory itself, e.g.
    =   fcm:um.xm/trunk
    =is a valid path.
    =
    =When working with the shared repository this must point to the
    =local mirror of the repository, not the shared repository itself.
    =
    =When providing a path to a working copy, the path must be visible to
    =the machine where the fcm_make task (NOT the fcm_make2 task, if
    =present) is run. If this is not the case, prefix the path with the
    =hostname of the machine where the working copy is located, e.g.
    =    myhost:/data/local/user/vn1.0_working_copy.
ns=env/config
sort-key=a3

[env=dynamo_base]
compulsory=false
title=Dynamo base extract source
help=The basename for the extract of the Dynamo source code, i.e. the
    =place in the Dynamo project tree to take the primary extract from,
    =such as the trunk or a branch. Defaults to "trunk".
    =
    =Unless a path to a Subversion repository is specified this is taken
    =to be relative to the location defined by env=dynamo_project_location.
    =
    =This is the source code against which your branches, working
    =copies etc. will be compared against and merged with prior to the
    =build. To build directly from a branch instead of merging changes
    =into the trunk, use e.g.
    =    branches/dev/user/vn1.0_trunk_override.
    =
    =Use env=dynamo_rev to specify the revision of the base extract.
    =
    =Using an FCM keyword or Subversion URL here will override the value
    =of env=dynamo_project_location for the primary extract only (i.e. not
    =for any branches). If all your source code lies in a different
    =repository, modify that variable instead.
ns=env/extract
sort-key=c2

[env=dynamo_project_location]
compulsory=false
title=Location of the Dynamo project
help=The location of the Dynamo project tree, in a Subversion repository.
    =This can be an FCM keyword, a Subversion URL or a file path.
    =Defaults to "fcm:dynamo.xm".
    =
    =When working with the shared repository this must point to the
    =local mirror of the repository, not the shared repository itself.
    =
    =Unless explicitly specified with a full path to a repository,
    =the values of env=dynamo_base and env=dynamo_sources are taken
    =relative to this location.
ns=env/extract
sort-key=c1

[env=dynamo_rev]
compulsory=true
title=Dynamo base extract revision
help=The revision of the base extract for the Dynamo source code.
    =Defaults to "head".
    =
    =You may use FCM keywords (vn1.0) or revision numbers (12345) here.
    =
    =The base extract source location is specified with env=dynamo_base.
ns=env/extract
pattern=(?i)^((vn)\d+\.\d+(\.\d+)?|\d+|head)$
sort-key=c3

[env=dynamo_sources]
compulsory=true
title=Dynamo branches and/or working copies
help=When extracting the Dynamo source, merge in source code from the
    =locations and revisions listed here. These can be branches, working
    =copies or even the trunk. The merge is relative to the source code
    =specified by env=dynamo_base at the revision env=dynamo_rev.
    =
    =Complete FCM or Subversion URLs, or directory paths, may be used.
    =If only a partial path is provided this is taken to be relative to the
    =project tree associated with env=dynamo_project_location. For example,
    =if the project location is specified by the "fcm:Dynamo.xm" keyword URL,
    =then
    =    branches/dev/user/vn1.0_testing
    =is equivalent to
    =    fcm:Dynamo.xm/branches/dev/user/vn1.0_testing
    =
    =If a complete URL is specified then when working with the shared
    =repository this must point to the local mirror of the repository,
    =not the shared repository itself.
    =
    =Use "@" to specify the revision of a repository location, e.g.
    =    branches/dev/user/vn1.0_testing@67890.
    =If a revision is not provided for a repository-based location,
    ="head" is assumed.
    =
    =When providing a path to a working copy, the path must be visible to
    =the machine where the extract step takes place. If this is not the case,
    =prefix the path with the hostname of the machine where the working copy
    =is located, e.g.
    =    myhost:/data/local/user/vn1.0_working_copy.
ns=env/extract
sort-key=c4
type=spaced_list

[env=optimisation_level]
compulsory=true
title=Optimisation level for builds
help=Compiler optimisation level; this chooses one of several
    =pre-selected sets of optimisation options that determine how much
    =automatic optimisation the compiler is allowed to do.
ns=env/build
sort-key=a1
value-titles=production,fast debug,full debug,defined by suite
values=prod,fast-debug,full-debug,$OPTIMISATION

[env=platform_config_dir]
compulsory=true
title=Platform configs directory
help=Name of a directory containing site- and platform-specific
    =configuration files. This should be a sub-directory of the fcm-make
    =directory in the UM source code.
    =
    =Only one configuration directory at a time should be selected.
    =
    =This may be an environment variable $PLATFORM which should be defined
    =by the suite.
ns=env/config
sort-key=a1
widget[rose-config-edit]=rose.config_editor.valuewidget.choice.ChoicesValueWidget
                        =--editable
                        =meto-x86-ifort
                        =meto-x86-gnu
                        =meto-xc40-cce
                        =$PLATFORM

[env=psyclone_project_location]
compulsory=false
title=Location of the PSyclone project
help=The location of the PSyclone project tree, in a Subversion repository.
    =This can be an FCM keyword, a Subversion URL or a file path.
    =Defaults to "svn://fcm1/lfric.xm_svn/PSyclone".
    =
    =When working with the shared repository this must point to the
    =local mirror of the repository, not the shared repository itself.
    =
    =The tagged version of Psyclone will be taken from this location.
ns=env/extract
sort-key=c1

[env=psyclone_tag]
compulsory=true
title=PSyclone tag
help=The tagged version of Psyclone to include.
ns=env/extract
sort-key=c3
